<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>paymentSystem</title>
</h:head>
<h:body>

	<p:growl id="growl" showDetail="true" sticky="true"></p:growl>
	<p:fieldset legend="complete userDetails">
		<div align="center">

			<h:form id="completeUserDetails">
				<p:panelGrid>
					<p:row>
						<p:column>
							<p:outputLabel>真实姓名:</p:outputLabel>
						</p:column>
						<p:column>
							<p:inputText value="#{userVoController.userVo.realName}"
								id="realName" required="true" requiredMessage="真是姓名不能为空">
								<p:ajax update="realName-error" />
							</p:inputText>
						</p:column>
						<p:column>
							<p:message for="realName" id="realName-error" />
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<p:outputLabel>身份证号:</p:outputLabel>
						</p:column>
						<p:column>
							<p:inputText value="#{userVoController.userVo.idNumber}"
								id="idNumber" required="true" requiredMessage="身份证号不能为空">
								<p:ajax update="idNumber-error" />
							</p:inputText>
						</p:column>
						<p:column>
							<p:message for="idNumber" id="idNumber-error" />
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<p:outputLabel>性别:</p:outputLabel>
						</p:column>
						<p:column>
							<p:selectOneRadio id="sex" value="#{userVoController.userVo.sex}">
								<f:selectItem itemLabel="男" itemValue="男" />
								<f:selectItem itemLabel="女" itemValue="女" />
							</p:selectOneRadio>
						</p:column>
						<p:column>
							<p:message for="sex" id="sex-error" />
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<p:outputLabel>职业:</p:outputLabel>
						</p:column>
						<p:column>
							<p:inputText value="#{userVoController.userVo.occupation}"
								id="occupation" required="true" requiredMessage="职业不能为空">
								<p:ajax update="occupation-error" />
							</p:inputText>
						</p:column>
						<p:column>
							<p:message for="occupation" id="occupation-error" />
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<p:outputLabel>手机号:</p:outputLabel>
						</p:column>
						<p:column>
							<p:inputText value="#{userVoController.userVo.phone}" id="phone"
								required="true" requiredMessage="手机不能为空">
								<p:ajax update="phone-error" />
							</p:inputText>
						</p:column>
						<p:column>
							<p:message for="phone" id="phone-error" />
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<p:outputLabel>地址:</p:outputLabel>
						</p:column>
						<p:column>
							<p:inputText value="#{userVoController.userVo.address}"
								id="address" required="true" requiredMessage="地址不能为空">
								<p:ajax update="address-error" />
							</p:inputText>
						</p:column>
						<p:column>
							<p:message for="address" id="address-error" />
						</p:column>
					</p:row>
					<p:row>
						<p:column>
							<p:commandButton value="确认完善" process="@form"
								action="#{userVoController.saveUserDetails}"
								update="realName idNumber sex  occupation phone address growl" />
						</p:column>

					</p:row>
				</p:panelGrid>
			</h:form>
			<h:form enctype="multipart/form-data">
				<p:fileUpload
					fileUploadListener="#{userVoController.handlePhotoUpload}" cancelLabel="取消" label="头像上传" uploadLabel="确定"
					
					mode="advanced" update="messages myphoto" sizeLimit="100000"
					allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
				<p:outputLabel value="已经上传的头像"></p:outputLabel>
				<p:graphicImage id="myphoto" width="100px" height="120px"
					url="http://img.paymentSystem.com/#{userVoController.userVo.userId}/#{userVoController.userVo.photoName}.jpeg"/>
				<p:growl id="messages" showDetail="true" />
			</h:form>
		</div>

	</p:fieldset>

</h:body>
</html>