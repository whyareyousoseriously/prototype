<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>paymentSystem</title>
</h:head>
<h:body>
	<div align="center">
		<h1 class="ui-widget-header ui-corner-all">注册</h1>
		<p:fieldset legend="Wlcome to register">

			<h:form>
				<p:panelGrid columns="3" styleClass="formTable">
					<p:outputLabel>用户名(username):</p:outputLabel>
					<p:inputText value="#{UserBean.username}" required="true"
						id="username" requiredMessage="用户名不能为空">
						<f:validator validatorId="RegisterUsernameValidator"></f:validator>
						<p:ajax update="username-error" event="blur" />
					</p:inputText>
					<p:message for="username" id="username-error" />


					<p:outputLabel>密码(password):</p:outputLabel>
					<p:password value="#{UserBean.password}" feedback="true"
						id="password" required="true" requiredMessage="需要密码">
						<f:validator validatorId="PasswordValidator"></f:validator>
						<p:ajax update="password-error" event="blur" />
					</p:password>
					<p:message for="password" id="password-error" />

					<p:outputLabel>类型(type):</p:outputLabel>
					<p:selectOneMenu value="#{UserBean.type}" size="1" id="type">
						<f:selectItem itemValue="0" itemLabel="一般用户"></f:selectItem>
						<f:selectItem itemValue="1" itemLabel="收费管理单位"></f:selectItem>
					</p:selectOneMenu>
					<p:message for="type" id="type-error" />

					<p:outputLabel>邮箱(email):</p:outputLabel>
					<p:inputText validatorMessage="邮箱不合法" value="#{UserBean.email}"
						id="email" required="true" requiredMessage="邮箱不能为空">
						<f:validateRegex
							pattern="^\w+([-_.]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,6})+$"></f:validateRegex>
						<p:ajax update="email-error" event="blur" />
					</p:inputText>
					<p:message for="email" id="email-error" />

				</p:panelGrid>

				<p:commandButton value="注册(Register)"
					action="#{UserBean.doRegister}" process="@form"
					update="username-error password-error email-error type-error" />

			</h:form>

		</p:fieldset>

	</div>
</h:body>
</html>